# ğŸ¨ Sneaker Drop Frontend

Real-time sneaker drop system with atomic reservations, live inventory updates, and 60-second checkout timer.

Built with **React**, **Vite**, **Zustand**, **Socket.IO**, and **Tailwind CSS**.

---

## ğŸš€ Features

### âœ… Real-Time Updates
- **Live Stock Updates** - See inventory changes instantly
- **WebSocket Connection** - Socket.IO for real-time communication
- **Auto Stock Recovery** - Watch stock return after reservation expiration
- **Purchase Notifications** - See who's buying in real-time

### âœ… User Authentication
- **Register/Login** - JWT-based authentication
- **Persistent Sessions** - Auto-login from localStorage
- **Protected Routes** - Secure user-specific features
- **Profile Management** - View and update user info

### âœ… Reservation System
- **One-Click Reserve** - Instant item reservation
- **60-Second Timer** - Visual countdown with progress bar
- **Atomic Operations** - Race-condition safe reservations
- **Auto-Expiration** - Automatic stock recovery

### âœ… Purchase Flow
- **Purchase Modal** - Complete checkout interface
- **Order Summary** - Clear price breakdown
- **Instant Confirmation** - Real-time purchase completion
- **Activity Feed** - See recent purchasers

### âœ… Modern UI/UX
- **Responsive Design** - Mobile, tablet, desktop optimized
- **Tailwind CSS** - Beautiful, consistent styling
- **Toast Notifications** - User-friendly alerts
- **Loading States** - Smooth loading indicators
- **Animations** - Subtle, professional transitions

---

## ğŸ“¦ Tech Stack

| Technology | Purpose | Version |
|------------|---------|---------|
| **React** | UI Framework | 18.3.1 |
| **Vite** | Build Tool | 5.2.0 |
| **Zustand** | State Management | 4.5.0 |
| **Socket.IO Client** | WebSocket | 4.7.4 |
| **Axios** | HTTP Client | 1.6.5 |
| **Tailwind CSS** | Styling | 3.4.1 |
| **React Hot Toast** | Notifications | 2.4.1 |
| **Lucide React** | Icons | 0.263.1 |

---

## ğŸ› ï¸ Installation

### Prerequisites
- **Node.js** 16+ and npm
- **Backend Server** running on `http://localhost:5000`

### Steps

```bash
# 1. Navigate to frontend directory
cd sneaker-drop-frontend

# 2. Install dependencies
npm install

# 3. Configure environment (already done)
# Check .env file for API and Socket URLs

# 4. Start development server
npm run dev

# 5. Open browser
# http://localhost:5173
```

---

## ğŸ“ Project Structure

```
sneaker-drop-frontend/
â”œâ”€â”€ public/                     # Static assets
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/             # React components
â”‚   â”‚   â”œâ”€â”€ Navbar.jsx          # Navigation bar
â”‚   â”‚   â”œâ”€â”€ AuthModal.jsx       # Login/Register modal
â”‚   â”‚   â”œâ”€â”€ DropCard.jsx        # Product card
â”‚   â”‚   â”œâ”€â”€ ReserveButton.jsx   # Reserve logic
â”‚   â”‚   â”œâ”€â”€ PurchaseModal.jsx   # Checkout modal
â”‚   â”‚   â”œâ”€â”€ ActivityFeed.jsx    # Recent buyers
â”‚   â”‚   â”œâ”€â”€ Timer.jsx           # 60s countdown
â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.jsx  # Loading state
â”‚   â”‚   â””â”€â”€ ProtectedRoute.jsx  # Auth guard
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ Dashboard.jsx       # Main page
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ api.js              # Axios API service
â”‚   â”‚   â””â”€â”€ socket.js           # Socket.IO client
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”œâ”€â”€ useAuthStore.js     # Auth state
â”‚   â”‚   â”œâ”€â”€ useDropsStore.js    # Drops state
â”‚   â”‚   â”œâ”€â”€ useReservationsStore.js  # Reservations
â”‚   â”‚   â””â”€â”€ usePurchasesStore.js     # Purchases
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ helpers.js          # Utility functions
â”‚   â”œâ”€â”€ App.jsx                 # Main app component
â”‚   â”œâ”€â”€ main.jsx                # React entry
â”‚   â””â”€â”€ index.css               # Global styles
â”œâ”€â”€ index.html                  # HTML entry
â”œâ”€â”€ vite.config.js              # Vite config
â”œâ”€â”€ tailwind.config.js          # Tailwind config
â”œâ”€â”€ postcss.config.js           # PostCSS config
â”œâ”€â”€ package.json                # Dependencies
â””â”€â”€ .env                        # Environment variables
```

---

## ğŸ¯ Usage Guide

### 1. Register/Login

```javascript
// New user registration
Click "Register" â†’ Fill form â†’ Auto-login

// Existing user login
Click "Login" â†’ Enter credentials â†’ Dashboard
```

### 2. Browse Drops

```javascript
// View available drops
Dashboard shows all drops with:
- Real-time stock count
- Price information
- Recent purchasers (last 3)
- Availability status
```

### 3. Reserve Item

```javascript
// Click "Reserve Now" button
â†’ Stock decreases immediately
â†’ Purchase modal opens
â†’ 60-second timer starts
â†’ Socket broadcasts update to all users
```

### 4. Complete Purchase

```javascript
// In purchase modal
â†’ Review product details
â†’ Watch countdown timer
â†’ Click "Confirm Purchase"
â†’ Success notification
â†’ Activity feed updates
```

### 5. Real-Time Updates

```javascript
// Watch for:
- Stock decreases when others reserve
- Stock recovers after 60s expiration
- New purchases in activity feed
- Live connection status indicator
```

---

## âš™ï¸ Configuration

### Environment Variables (`.env`)

```env
# API Base URL
VITE_API_URL=http://localhost:5000

# Socket.IO URL
VITE_SOCKET_URL=http://localhost:5000
```

### Vite Proxy (for CORS)

Already configured in `vite.config.js`:

```javascript
proxy: {
  '/api': {
    target: 'http://localhost:5000',
    changeOrigin: true,
  },
  '/socket.io': {
    target: 'http://localhost:5000',
    ws: true,
  }
}
```

---

## ğŸ¨ Customization

### Colors

Edit `tailwind.config.js`:

```javascript
theme: {
  extend: {
    colors: {
      // Add custom colors here
    }
  }
}
```

### Button Styles

Edit `src/index.css`:

```css
.btn-primary {
  @apply bg-blue-600 text-white hover:bg-blue-700;
}
```

### Timer Duration

Backend controls reservation duration:

```env
# In backend .env
RESERVATION_DURATION=60000  # 60 seconds
```

---

## ğŸ”Œ API Integration

### API Service (`src/services/api.js`)

```javascript
// Automatic JWT token injection
api.interceptors.request.use((config) => {
  const token = localStorage.getItem('token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// Auto-logout on 401
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // Clear auth and redirect
    }
  }
);
```

### Socket.IO Service (`src/services/socket.js`)

```javascript
// Connect once, use everywhere
socketService.connect();

// Listen to events
socketService.onStockUpdate((data) => {
  // Handle stock updates
});

socketService.onPurchaseCompleted((data) => {
  // Handle purchases
});
```

---

## ğŸ“Š State Management (Zustand)

### Auth Store

```javascript
const { user, login, logout, isAuthenticated } = useAuthStore();

// Login
await login({ email, password });

// Check auth
if (isAuthenticated) {
  // User is logged in
}
```

### Drops Store

```javascript
const { drops, fetchDrops, updateDropStock } = useDropsStore();

// Fetch drops
await fetchDrops();

// Update stock (real-time)
updateDropStock(dropId, newStock);
```

### Reservations Store

```javascript
const { reserveItem, activeReservation } = useReservationsStore();

// Reserve
await reserveItem(dropId);

// Check active reservation
if (activeReservation) {
  // Show purchase modal
}
```

---

## ğŸ§ª Testing

### Manual Testing

```bash
# 1. Start backend
cd sneaker-drop-backend
npm run dev

# 2. Start frontend
cd sneaker-drop-frontend
npm run dev

# 3. Open multiple browser tabs
# Test real-time updates across tabs
```

### Test Scenarios

1. **Registration Flow**
   - Register new user
   - Verify auto-login
   - Check profile display

2. **Reservation Flow**
   - Click "Reserve Now"
   - Watch stock decrease
   - See 60s timer
   - Complete purchase

3. **Real-Time Updates**
   - Open 2 tabs
   - Reserve in tab 1
   - Watch stock update in tab 2
   - Wait 60s for recovery

4. **Expiration Flow**
   - Reserve item
   - Don't purchase
   - Wait 60 seconds
   - Watch stock recover
   - See toast notification

---

## ğŸ› Troubleshooting

### Issue: Can't connect to backend

**Solution:**
```bash
# Make sure backend is running
cd sneaker-drop-backend
npm run dev

# Check if running on port 5000
curl http://localhost:5000/health
```

### Issue: Socket.IO not connecting

**Solution:**
```javascript
// Check vite.config.js proxy settings
proxy: {
  '/socket.io': {
    target: 'http://localhost:5000',
    ws: true,  // Important!
  }
}
```

### Issue: CORS errors

**Solution:**
Backend CORS is already configured. If issues persist:
```javascript
// In backend index.js
app.use(cors({
  origin: 'http://localhost:5173',
  credentials: true
}));
```

### Issue: Toast notifications not showing

**Solution:**
```javascript
// Make sure Toaster is in App.jsx
import { Toaster } from 'react-hot-toast';

<Toaster position="top-right" />
```

### Issue: CSS not working

**Solution:**
```bash
# Reinstall dependencies
rm -rf node_modules package-lock.json
npm install

# Make sure index.css is imported in main.jsx
import './index.css'
```

---

## ğŸ“¦ Build for Production

```bash
# Build optimized bundle
npm run build

# Preview production build
npm run preview

# Output directory
dist/
```

Deploy `dist/` folder to:
- Vercel
- Netlify
- AWS S3 + CloudFront
- Any static hosting

---

## ğŸ” Security Features

### Authentication
- JWT tokens stored in localStorage
- Automatic token injection via Axios
- Auto-logout on 401 responses
- Protected routes with auth guards

### Data Validation
- Client-side form validation
- Server-side validation (backend)
- Input sanitization
- Error handling

---

## ğŸ¯ Performance

### Optimizations
- âœ… Lazy loading components
- âœ… Memoized callbacks
- âœ… Direct state updates (avoid refetches)
- âœ… Efficient Socket.IO listeners
- âœ… Debounced user actions
- âœ… Optimized re-renders

### Bundle Size
```bash
# Analyze bundle
npm run build

# Check dist/ folder size
du -sh dist/
```

---

## ğŸ“ Scripts

```bash
# Development server (with HMR)
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview

# Lint code (if configured)
npm run lint
```

---

## ğŸ¤ Contributing

### Code Style
- Use functional components
- Follow React hooks best practices
- Keep components small and focused
- Use Tailwind utility classes
- Write clear comments

### Git Workflow
```bash
# Create feature branch
git checkout -b feature/new-component

# Make changes and commit
git add .
git commit -m "Add new component"

# Push and create PR
git push origin feature/new-component
```

---

## ğŸ“„ License

MIT License - feel free to use this project for learning or commercial purposes.

---

## ğŸ™ Acknowledgments

- **React** - UI framework
- **Vite** - Lightning-fast build tool
- **Zustand** - Simple state management
- **Socket.IO** - Real-time communication
- **Tailwind CSS** - Utility-first CSS
- **Lucide** - Beautiful icons

---

## ğŸ“§ Support

For issues or questions:
1. Check troubleshooting section above
2. Review backend README
3. Check browser console for errors
4. Verify backend is running

---

## ğŸ‰ Quick Start Summary

```bash
# Install
npm install

# Configure (already done)
# Check .env file

# Run
npm run dev

# Open
http://localhost:5173

# Test
Register â†’ Browse drops â†’ Reserve â†’ Purchase
```

**Enjoy your real-time sneaker drop system!** ğŸš€ğŸ‘Ÿ

---

**Made with â¤ï¸ using React, Vite, and Socket.IO**